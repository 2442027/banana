<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>在庫一覧</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="p-4 bg-light">
    <div class="container">
        <h2 class="mb-4 text-center">商品在庫一覧</h2>

        {% if items %}
        <div class="inventory-grid">
            {% for item in items %}
            <a href="{{ url_for('edit', id=item['id']) }}" class="product-card">
                <div class="product-image-container">
                    <img src="{{ url_for('static', filename='images/' + item['image_file']) }}" 
                         alt="{{ item['name'] }}" 
                         onerror="this.src='{{ url_for('static', filename='images/noimage.jpg') }}';">
                </div>
                <div class="product-info">
                    <h3 class="product-name">{{ item['name'] }}</h3>
                    <p class="product-desc">{{ item['description'] }}</p>
                    <div class="product-price">¥{{ "{:,}".format(item['price']) }}</div>
                </div>
            </a>
            {% endfor %}
        </div>
        {% else %}
        <div class="alert alert-warning">商品が見つかりませんでした。</div>
        {% endif %}

        <div class="mt-5 text-center">
            <a href="/search" class="btn btn-primary px-4">もう一度検索する</a>
            <a href="/" class="btn btn-link">トップへ戻る</a>
        </div>
    </div>
</body>
</html>